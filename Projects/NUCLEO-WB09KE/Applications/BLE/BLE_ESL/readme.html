<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="../../../../../_htmresc/mini-st_2020.css">
</head>
<body>
<div class="row">
    <section id="markdown-content">
        <h2 id="ble_esl-application-description"><strong>BLE_ESL
        Application Description</strong></h2>
        <p>This example demonstrates how to use an STM32WB0 as
        Electronic Shelf Label device using Periodic Advertising with
        Responses (PAwR) feature. In particular, it implements the ESL
        role of the standard profile (Electronic Shelf Label, aka
        ESL).</p>
        <p>The device is addressed by using a Group ID and an ESL ID,
        which are assigned by the Access Point.</p>
        <p>The application starts as a simple Peripheral advertising.
        Once a Central gets connected to the Peripheral, the Peripheral
        can receive the Periodic Advertising Synchronization Info so
        that it can synchronize with the periodic advertising train and
        disconnect the link. In particular, the device will only
        synchronize with the PAwR subevent corresponding to the
        group.</p>
        <p>Once synchronized with the PAwR train, the device can receive
        and execute ESL commands.</p>
        <p>The following commands can be used for tests (working only if
        CFG_LPM_SUPPORTED is 0): - <em>ABSTIME</em>: Get Current
        Absolute Time - <em>SRVNEEDED</em>: Set Service Needed bit to
        True - <em>UNSYNC</em>: Set The ESL state to Unsynchronized</p>
        <h3 id="keywords"><strong>Keywords</strong></h3>
        <p>Connectivity, BLE, BLE protocol, BLE PAwR, ESL</p>
        <h3 id="hardware-and-software-environment"><strong>Hardware and
        Software environment</strong></h3>
        <ul>
        <li>This application runs on STM32WB0 Nucleo board.</li>
        <li>Another STM32WB0 Nucleo board is necessary to run BLE_ESL_AP
        application.</li>
        </ul>
        <h3 id="how-to-use-it"><strong>How to use it?</strong></h3>
        <p>In order to make the program work, you must do the
        following:</p>
        <ul>
        <li>Open the project with your preferred toolchain</li>
        <li>Rebuild all files and load your image into target memory
        (erase all the Flash before downloading, to initialize sectors
        used to store images)</li>
        <li>Run the example.</li>
        <li>Optionally, a serial terminal (with settings 921600-8-N-1),
        can be opened to see some info.</li>
        <li>Use another Nucleo board running BLE_ESL_AP. The centralized
        AP will try to connect to the ESL to send configuration settings
        to an ESL and to pass synchronization information.</li>
        <li>Once the BLE_ESL has been synchronized, AT commands can be
        sent from the AP specifying a GROUP_ID and a ESL_ID.</li>
        </ul>
        <p>For more info on how to send commands from the AP, see the
        related documentation.</p>
        <p>ATTENTION: ESL removes any bonding information after a reset
        is performed.</p>
        <h3 id="notes"><strong>Notes</strong></h3>
        <p>When acting as a PAwR Observer, the Sleep Clock Accuracy must
        be under 50 ppm. The accuracy of the LSE on Nucleo-WB09KE meets
        this requirement in the range from 0 to 50 degree. If
        application needs to operate at a wider temperature range, it is
        suggested to enable the periodic calibration. LSI cannot be
        used.</p>
        <ul>
        <li>On Keil framework, the following compilation setting are
        applied:
        <ul>
        <li>diag_suppress L6312W (Hide “Empty &lt; type&gt; region
        description for region &lt; region&gt;” warning)</li>
        <li>diag_suppress L6314W (Hide “No section matches pattern &lt;
        module&gt;(&lt; section&gt;” warning)</li>
        <li>diag_suppress L6329W (Hide “Pattern &lt; module&gt;(&lt;
        section&gt;) only matches removed unused sections” warning)</li>
        </ul></li>
        </ul>
    </section>
</div>
</body>
</html>
